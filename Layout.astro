---
const { title } = Astro.props;
---
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title} | Magus Otieno</title>
    <link rel="stylesheet" href="/global.css" />
  </head>

  <body class="bg-white text-black dark:bg-gray-900 dark:text-white transition-colors duration-300">
    <div class="flex min-h-screen">
      <!-- Sidebar -->
      <aside class="w-60 bg-gray-100 dark:bg-gray-800 p-4 space-y-4 hidden md:block">
        <img src="/pfp.jpg" alt="Magus Otieno" class="rounded-full w-24 h-24 mx-auto" />
        <nav class="space-y-2 text-center">
          <a href="/" class="block hover:text-purple-500">Home</a>
          <a href="/projects" class="block hover:text-purple-500">Projects</a>
          <a href="/services" class="block hover:text-purple-500">Services</a>
          <a href="/store" class="block hover:text-purple-500">Store</a>
          <a href="/blog" class="block hover:text-purple-500">Blog</a>
          <a href="/cv" class="block hover:text-purple-500">CV</a>
          <a href="/contact" class="block hover:text-purple-500">Contact</a>
        </nav>

        <!-- Socials -->
        <div class="flex justify-center gap-4 mt-6">
          <a href="https://github.com/magusteinmagnus" target="_blank">GitHub</a>
          <a href="https://linkedin.com/in/ian-otieno-ochieng" target="_blank">LinkedIn</a>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 p-6">
        <div class="flex justify-end">
          <!-- Theme toggle -->
          <button
            onclick="toggleTheme()"
            class="bg-gray-200 dark:bg-gray-700 px-4 py-2 rounded text-black dark:text-white transition"
          >
            ðŸŒ— Toggle Theme
          </button>
        </div>

        <slot />
      </main>
    </div>

    <!-- Script for theme persistence -->
    <script>
      const html = document.documentElement;
      function toggleTheme() {
        html.classList.toggle('dark');
        localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
      }

      if (localStorage.theme === 'dark') {
        html.classList.add('dark');
      }
    </script>
  </body>
</html>
